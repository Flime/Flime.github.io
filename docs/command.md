# Flime指令说明

> 告诉我,我会忘掉.教导我,我会记住.让我参与,我会掌握.

---

## 本文指令说明

```
/指令头
<必选参数>
[可选参数]
//注释
```

<details>
    <summary>指令列表(示例)</summary>

- [不是哥们谁问你了](#自定义回复)
- [大家说a回复b](#自定义回复)
- [狐狸闭嘴a](#自定义回复)
- 来个曲绘
- [今日狐品](#今日狐品)
- [看看回复](#自定义回复)
- [搜索aaa](#搜索)
- [图片](#随机图片)
- [众言a报b](#自定义回复)
- [/ab](#开始)
- [/abend](#结束)
- [/abhelp](#ab游戏numberle)
- [/abme](#ab游戏numberle)
- [/abn 4](#开始)
- [/abrank](#ab游戏numberle)
- [/ab 4](#开始)
- [/admin](#admin系统)
- [/admin 1 off](#admin系统)
- [/admin 3](#admin系统)
- [/bank](#粘液球音趴系统)
- [/cal 1+1](#表达式计算)
- [/crush](#粘液球音趴系统)
- [/crush 123](#粘液球音趴系统)
- [/crush @aaa](#粘液球音趴系统)
- [/draw](#粘液球音趴系统)
- [/drawall](#粘液球音趴系统)
- [/draw 123](#粘液球音趴系统)
- [/end](#结束)
- [/exit](#重启指令)
- [/flime now](#白名单指令)
- [/flime off](#白名单指令)
- [/help](#flime指令说明)
- [/hyd](#消息统计)
- [/hydtop](#消息统计)
- [/jrhp](#今日狐品)
- [/jrrp](#今日狐品)
- [/nmhelpclose](#数字矿工)
- [/nmhelpend](#数字矿工)
- [/nmhelpexit](#数字矿工)
- [/nmhelphelp](#数字矿工)
- [/nmhelpjoin](#数字矿工)
- [/nmhelpnew](#数字矿工)
- [/nmhelpstart](#数字矿工)
- [/pick](#漂流瓶)
- [/prop](#粘液球音趴系统)
- [/r](#掷骰)
- [/r 1d6](#掷骰)
- [/r 3 4 5](#掷骰)
- [/t 123](#设置计时器)
- [/t 2m aaa](#设置计时器)
- [/t 123 aaa](#设置计时器)
- [/throw aaa](#漂流瓶)
- [/trans English](#翻译)
- [/save](#粘液球音趴系统)
- [/saveall](#粘液球音趴系统)
- [/save 123](#粘液球音趴系统)
- [/sb](#warning-石头游戏)
- [/sbhelp](#warning-石头游戏)
- [/slimeball](#warning-石头游戏)
- [/slimeballhelp](#warning-石头游戏)
- [/stone](#warning-石头游戏)
- [/stoneboss](#warning-石头游戏)
- [/stonecount](#warning-石头游戏)
- [/stonecount N](#warning-石头游戏)
- [/stonehelp](#warning-石头游戏)
- [/stoneme](#warning-石头游戏)
- [/stonerank](#warning-石头游戏)
- [/ut 123](#取消计时器)
- [/wish](#粘液球音趴系统)
- [/wish 123](#粘液球音趴系统)
- [/xxtj](#消息统计)
- [/xxtjtop](#消息统计)
- [/yp](#粘液球音趴系统)
- [/ypbuy](#粘液球音趴系统)
- [/ypbuy 1](#粘液球音趴系统)
- [/yphelp](#粘液球音趴系统)
- [/yphate 123](#粘液球音趴系统)
- [/yplove 123](#粘液球音趴系统)
- [/yprank](#粘液球音趴系统)
- [/yprank2](#粘液球音趴系统)
- [/ypthrow](#粘液球音趴系统)
- [/zftj](#消息统计)
- [/zftjtop](#消息统计)
- [/zrxxtj](#消息统计)
- [/zrxxtjtop](#消息统计)
- [/zrzftj](#消息统计)
- [/zrzftjtop](#消息统计)
- [/zxxtj](#消息统计)
- [/zxxtjtop](#消息统计)
- [/表情](#表情包生成)
- [/表情 123](#表情包生成)
- [/表情 123 aaa](#表情包生成)
- [/表情 123 @aaa](#表情包生成)
- [/壁画王](#消息统计)
- [/查ban](#黑名单指令)
- [/丢 aaa](#漂流瓶)
- [/活跃度](#消息统计)
- [/活跃度top](#消息统计)
- [/捡](#漂流瓶)
- [/举报 123](#漂流瓶)
- [/清空体力大爆射](#粘液球音趴系统)
- [/清空体力大爆射 123](#粘液球音趴系统)
- [/清空体力大爆射 @aaa](#粘液球音趴系统)
- [/漂流瓶统计](#漂流瓶)
- [/涩涩](#粘液球音趴系统)
- [/涩涩 123](#粘液球音趴系统)
- [/涩涩 @aaa](#粘液球音趴系统)
- [/消息统计](#消息统计)
- [/消息统计top](#消息统计)
- [/昨日消息统计](#消息统计)
- [/昨日消息统计top](#消息统计)
- [?表情](#表情包生成)
- [?表情关键词](#表情包生成)
- [?表情 123](#表情包生成)
- [.r](#掷骰)
</details>

---


## 管理功能

### admin系统

用于管理bot<br />
包括功能设置和快捷指令<br />
请输入/admin查看设置内容<br />
或者使用`/admin <编号> [参数]`使用上述设置/指令

:::info
在权限设置中:
- 以下参数表示开启
```
开
on
true
```
- 以下参数表示关闭
```
关
off
false
```
:::

:::info
快捷指令没有参数
:::

### 重启指令
```
/exit
```
**仅群主可使用该指令,恶意使用该指令将立即永久拉黑群聊**,特殊情况(如 bot 抽风)时,用于强制重启Flime<br />
如果重启没有解决问题,请使用下面的移出白名单指令并联系Bot主QQ155018725

### 白名单指令
```
/flime off
```
**仅群主和管理员可使用该指令**,将本群移出白名单
```
/flime now
```
查询本群是否在白名单内

### 黑名单指令
```
/查ban
```
查询目前黑名单内容

## 自定义回复

```
大家说a回复b
```
最普通的自定义回复,遇见信息`a`回复`b`
```
众言a回复b
```
正则表达式匹配回复,遇见符合正则表达式`a`的内容回复`b`
:::warning
请确认你了解正则表达式再使用这一项
:::
```
狐狸闭嘴a
```
删除指定的自定义回复
```
看看回复
```
查看当前自定义回复列表
```
不是哥们谁问你了
```
删除所有的自定义回复


## AB游戏(Numberle)
```
/abhelp
```
查看帮助

#### 开始
```
/ab
```
开始一次ab游戏<br />
ab游戏有多种不同模式,详见`/abhelp`

#### 结束
```
/end
任何"e[E]nd"开头的输入
任何包含"abend"的输入
```
结束本群当前的ab游戏

## 数字矿工
```
/nmhelp
```
查看帮助

```
/nmnew
/nm新建
/nm启动
```
新建房间

```
/nmjoin
/nm加入
/nm贴贴
```
加入房间

```
/nmexit
/nm退出
/nm退钱
```
退出房间

```
/nmclose
/nm关闭
/nm下播
```
关闭房间

```
/nmstart
/nm开始
/nm梭哈
```
开始游戏

```
/nmend
/nm结束
/nm跑路
```
结束游戏

## 粘液球|音趴系统
```
/slimeballhelp
/sbhelp
```
查看帮助

```
/jrrp
```
[今日狐品](#今日狐品),可以获得粘液球(请用这个指令创建粘液球账号)

```
/wish [数字]
```
进行数字次抽卡,每次抽卡消耗160粘液球,不写默认1次

```
/slimeball
```
查看粘液球信息

```
/bank
```
查看银行信息

```
/save <数字>
/draw <数字>
```
从银行存取指定量的粘液球

```
/yp
```
查看音趴信息

```
/ypbuy [道具id]
```
使用240粘液球购买一个随机道具,或者花500粘液球购买指定道具

```
/ypthrow
```
丢弃目前持有的道具

```
/prop
```
查询道具说明

```
/涩涩 [留空随机|QQ号|@信息]
```
涩涩随机/指定人

```
/清空体力大爆射 [留空随机|QQ号|@信息]
/crush [留空随机|QQ号|@信息]
```
用法和涩涩一样,但是清空体力

```
/yplove <QQ号|@信息>
/yphate <QQ号|@信息>
```
和某人结婚/离婚,结婚需要双方互相认证

## :warning: 石头游戏
:::warning
本游戏已停止支持
:::
```
/stonehelp
```
查看帮助

```
/stone
```
进行一次游戏迭代

```
/stoneme
```
查看自己的游戏数据(不进行迭代)

```
/stonerank
```
查看游戏排名

```
/stoneboss
/sb
```
打BOSS

```
/stonecount [显示方式编号]
```
查看/切换数字显示方式

:::info
下列是部分显示方式编号,你可以使用`/stonecount`查询其他编号
```
N-科学记数
A-字母计数
C-中文计数
F-狐狸计数
```
:::

:::info
除了/stone,其余指令中的stone均可简写为s,如/srank
:::

## 杂项功能

### 搜索
```
搜索<内容> //下同
百度搜索
我的世界搜索
mc搜索
萌娘百科搜索
邦邦wiki搜索
```
直接在后面加入你要搜索的内容<br />
例如`搜索什么是搜索引擎`就是用Bing搜索`搜索引擎是什么`

### 翻译
```
/trans <翻译文本>
```
翻译文本内容,自动识别语言,目标语言为中文

### 掷骰
```
.r [骰子列表]
/r [骰子列表]
```
以`.r`或`/r`为开头,在后面跟随一串用空格隔开的骰子列表<br />
骰子格式为`数字`或`数字d数字`<br />
例如`2d6`为投掷2次6面骰;`6`是简写形式,视同`1d6`<br />
此外:`骰子`可以呼出一个关键词回复()

### 计时器

#### 设置计时器
以“计时”或“/t”开头,创建一个计时器,有两个参数
```
/t <时间> [提示]
```
:::info
可以通过添加h(小时)、m(分钟)、s(秒)指定时间单位,仅允许一个符号(如果有多个,按smh顺序逐个判断),但时间必须以数字开头<br />
例如
```
10s = 10秒
20m = 20分钟
50hs = 50秒
h10 = 报错
1a2b3s = 1秒
```
:::

#### 取消计时器
创建后你会获得一个任务编号,使用“取消”或“/ut”取消指定编号的计时器
```
/ut <编号>
```

### 漂流瓶
```
/丢 <内容>
/throw <内容>
/捡
/pick
/举报 <id>
/漂流瓶统计
```
不支持`/丢`后再发送一条消息丢漂流瓶，且仅能丢纯文字漂流瓶<br />
如果你在里面发现了违规内容，可以使用举报功能

### 今日狐品
```
/jrrp
/jrhp
今日狐品
```
以上三个指令都可以触发,抽取一个今日狐品,每个用户每天仅可查询一次

### 表情包生成
```
?表情
```
随时发送这个查看帮助

```
/表情 [id] [QQ] [文本1] [文本2] //生成对应图片
/表情关键词
?表情 [id] //查询对应图片
```
不指定id会随机id,不接受其它参数<br />
:::info
参数置空请输入`#`,可使用`\#`输入`#`,可使用`_`转义为空格,可使用`\_`输入`_`<br />
如: `/表情 1 # 123\_\# 一_些_文_本`<br />
参数将分别为 `你的QQ号` `123_#` `一 些 文 本`
:::

### 随机图片
```
图片
```
开头的信息,返回一张图片

### 表达式计算

支持的语法如下(大小写敏感)

> 另支持node.js中的其它*几乎所有*语法<br />
> 如果你不清楚部分语法，可以去MDN Web Docs,菜鸟教程寻找教程

:::warning
你的表达式应该是*一行*合法的node.js表达式(或者试试触发彩蛋吧?)
:::

#### 数字
整数 `123`<br />
小数 `1.23`<br />
科学记数法 `1.2e3`<br />
大整型BigInt `123n`<br />
:::info
大整型不限长度(其实限,但是上限真的很大),大整型仅可和大整型进行运算,且不能使用下面的大多数函数
:::

#### 运算符
加减乘除 `+` `-` `*` `/`<br />
逻辑比较符 `>` `<` `>=` `<=` `==` `!=` `===`<br />
三元运算符 `?` `:`<br />
逻辑运算符 `!` `||` `&&`<br />
乘方 `^` `**`
:::info
`^`被转义为了`**`，如果不希望转义请使用`\^`
:::

#### 常数
TIME 现在的时间戳,以毫秒为单位<br />
DATE 现在的时间,是一个对象<br />
PI 圆周率π<br />
E 自然对数底e<br />
PHI 黄金分割比<br />
MAGIC_NUMBER ?

#### 字符串
str(arg) 将数字/数组(推荐使用join)转换为字符串(BigInt可用)<br />
int(string) 将字符串转化为整数<br />
float(string) 将字符串转化为浮点数

#### 日期
date(number) 生成并格式化一个日期对象,参数是时间戳,单位是毫秒<br />
strtime(number,unit) 根据时间数字和单位生成时间文本
:::info
单位列表: `ms 毫秒` `s 秒` `m 分钟` `h 小时` `d 天` `M 月(30天)` `y 年`<br />
用法: `strtime(1,"M")`<br />
输出: `30天`
:::

#### 数组
array(arg,...) 将一串表达式组合成数组,为什么不直接[arg,...]?我不知道!<br />
join(array,string) 用指定的字符分割数组并输出一个字符串<br />
concat(array,...) 将多个数组组合成一个新的数组<br />
push(array,arg) 将指定元素置于数组末尾<br />
unshift(array,arg) 将指定元素置于数组开头<br />
slice(array,start,end) 取出数组指定的部分<br />
fill(array,arg) 用指定元素填充整个数组

#### 数学运算
abs(number) 取绝对值<br />
avg(number,... | ...[number,...]) 取平均值
:::info
参数为数组时应该这样像使用: avg(...[1,2,3])
:::
max(number,... | ...[number,...]) 取最大值 数组参数同上<br />
min(number,... | ...[number,...]) 取最小值 数组参数同上<br />
round(number) 四舍五入<br />
fix(number,number) 四舍五入至指定位数<br />
ceil(number) 向上取整<br />
floor(number) 向下取整<br />
ln(number) 自然对数底<br />
log(number,number) 对数,后一个是底数<br />
pow(number,number) 幂,等同于**(^)运算符<br />
sin(number) cos(...) tan(...) 三角函数<br />
sina(number)... 角度制的三角函数<br />
fact(number) 计算number的阶乘<br />
fibonacci(number) 斐波那契数列的第number个数

#### 随机数
rand() 生成0-1的随机数<br />
rand(min,max) 生成指定区间的随机数<br />
randint(min,max) 生成指定区间的随机整数

#### 大整型函数
factbig(number) 计算number的阶乘<br />
fibig(number) 斐波那契数列的第number个数
:::info
这里的函数只能输入大整型
:::

### 消息统计
```
/xxtj
/消息统计
```
查询今日信息量统计


```
/zrxxtj
/昨日消息统计
```
查询昨日信息量统计

```
/zftj
/字符统计
```
查询今日消息总字符数

```
/zrzftj
/昨日字符统计
```
查询昨日消息总字符数

```
/zxxtj
```
查询今日总消息数(`/xxtj`只统计有效信息,这是总消息)

```
/hyd
/活跃度
```
查询活跃度,这个活跃度有一个算法,我不说

:::info
以上指令均可加`top`查询最前的10名用户<br />
否则就是查询自己附近的10名用户
:::

```
/壁画王
```
查询总信息量统计最高的10名用户